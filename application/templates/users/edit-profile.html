{% extends './layout.html' %}
{% block title %}Your Profile {% endblock title %}
{% block content %}

<div class="container my-5">
    <h2 class="mb-5 text-center">Profile</h2>
    {% include 'partials/flash.html' %}
    <div class="profile-card">
        <form action="{{ url_for( 'auth_bp.edit_profile' ) }}" method="post" enctype="multipart/form-data" id="edit-profile">
            <div class="form-group mb-3 w-50 mx-auto d-flex align-items-center flex-column">
                <div class="img-block position-relative">
                    <img src="{{ url_for( 'static', filename='uploads/' + current_user.profile_image ) }}" alt="{{ current_user.name }}" 
                        onerror="this.src='https://via.placeholder.com/150'" class="profile-img border-round">
                    <label id="edit-picture-btn" for="profile-picture" class="position-absolute">&#9998;</label>
                    <input type="file" id="profile-picture" name="profile-picture" class="d-none" accept="image/*" alt="profile image">
                </div>
            </div>
            <div class="form-group mb-3 row justify-content-center align-items-center">
                <label class="col-3" for="name">Name:</label>
                <input type="text" name="name" id="name" value="{{ current_user.name }}" placeholder="Enter Your Name" class="w-auto form-control">
            </div>
            <div class="form-group mb-3 row justify-content-center align-items-center">
                <label class="col-3" for="email">Email:</label>
                <input type="email" name="email" id="email" value="{{ current_user.email }}" placeholder="Enter Your Name" class="w-auto form-control">
            </div>
            <div class="text-center">
                <button class="btn btn-secondary" type="submit">Update Profile</button>
            </div>
        </form>
    </div>
</div>

{% endblock content %}